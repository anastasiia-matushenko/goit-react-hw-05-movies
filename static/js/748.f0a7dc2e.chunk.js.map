{"version":3,"file":"static/js/748.f0a7dc2e.chunk.js","mappings":"gQAEMA,EAAYC,EAAAA,GAAAA,IAAH,0CAITC,EAAaD,EAAAA,GAAAA,KAAH,gFAMVE,EAAcF,EAAAA,GAAAA,MAAH,qMAaXG,EAAeH,EAAAA,GAAAA,OAAH,2MAaZI,EAAQJ,EAAAA,GAAAA,KAAH,8F,SC6BX,EA9DmB,WACf,OAA4BK,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACDJ,GAEDK,EAAAA,EAAAA,YAAsBL,GACjBM,MAAK,SAAAC,GACF,IAAKA,EAAKC,OACN,MAAM,IAAIC,MAAM,qCAEpBf,EAAUa,EACb,IAAEG,OAAM,SAAAC,GACLf,EAASe,EAAIC,QAChB,GAIZ,GAAE,CAACZ,IAeJ,OACI,UAACd,EAAD,YACI,yCACA,UAACE,EAAD,CAAYyB,SAhBC,SAACC,GAClBA,EAAIC,iBACJ,IAAMC,EAAQF,EAAIG,cAAcC,SAASC,OAAOH,MAAMI,OACjDJ,GAILjB,EAAgB,CAAEsB,MAAOL,IACzBtB,EAAU,IACVE,EAAS,IACTkB,EAAIQ,OAAOC,SANPT,EAAIQ,OAAOC,OAOlB,EAKO,WACI,SAAClC,EAAD,CACImC,KAAK,OACLC,KAAK,SACLC,aAAa,MACbC,WAAS,EACTC,YAAY,sBAEhB,SAACtC,EAAD,CAAckC,KAAK,SAAnB,uBAEH7B,IAAS,uBAAIA,IACbF,EAAOe,OAAS,IAAK,wBACjBf,EAAOoC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACR,2BAAa,SAACxC,EAAD,UAAQwC,KACjB,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMhC,GAA1C,4BADK4B,EADD,QAQ3B,C","sources":["pages/MoviesPage/MoviesPage.styled.js","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nconst Container = styled.div`\n  width: 1110px;\n`;\n\nconst SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n`;\n\nconst SearchInput = styled.input`\n  display: inline-block;\n  width: 288px;\n  height: 40px;\n\n  border: 1px solid #e10914;\n  border-radius: 6px;\n\n  font: inherit;\n  font-size: 20px;\n  outline: none;\n`;\n\nconst SearchButton = styled.button`\n  display: inline-block;\n  width: 97px;\n  height: 44px;\n\n  background: #e10914;\n  border: 0;\n  border-radius: 6px;\n  cursor: pointer;\n  outline: none;\n  color: #ffffff;\n`;\n\nconst Title = styled.span`\n  display: inline-block;\n  margin-right: 10px;\n  font-weight: 500;\n`;\n\nexport { Container, SearchForm, SearchInput, SearchButton, Title };\n","import { useEffect, useState } from \"react\";\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport { MoviesApi } from \"services/moviesApi\";\nimport { Container, SearchForm, SearchInput, SearchButton, Title } from \"./MoviesPage.styled\";\n\nconst MoviesPage = () => {\n    const [movies, setMovies] = useState([]);\n    const [error, setError] = useState(\"\");\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(\"movie\");\n    const location = useLocation();\n\n    useEffect(() => {\n        if (!query) return;\n        function fetchMovies() {\n            MoviesApi.fetchMovies(query)\n                .then(resp => {\n                    if (!resp.length) {\n                        throw new Error(\"Nothing was found for your query.\")\n                    }\n                    setMovies(resp);\n                }).catch(err => {\n                    setError(err.message);\n                })\n        };\n\n        fetchMovies();\n    }, [query]);\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        const value = evt.currentTarget.elements.search.value.trim();\n        if (!value) {\n            evt.target.reset();\n            return;\n        }\n        setSearchParams({ movie: value });\n        setMovies([]);\n        setError(\"\");\n        evt.target.reset();\n    }\n\n    return (\n        <Container>\n            <h1>Movies Page</h1>\n            <SearchForm onSubmit={handleSubmit}>\n                <SearchInput\n                    type=\"text\"\n                    name=\"search\"\n                    autocomplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search movies...\"\n                />\n                <SearchButton type=\"submit\">Search</SearchButton>\n            </SearchForm>\n            {error && <p>{error}</p>}\n            {movies.length > 0 && <ul>\n                {movies.map(({ id, title }) => (\n                    <li key={id}><Title>{title}</Title>\n                        <Link to={`/movies/${id}`} state={{ from: location }}>More details</Link>\n                    </li>\n                ))}\n            </ul>}\n        </Container>\n    )\n}\n\nexport default MoviesPage;"],"names":["Container","styled","SearchForm","SearchInput","SearchButton","Title","useState","movies","setMovies","error","setError","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","MoviesApi","then","resp","length","Error","catch","err","message","onSubmit","evt","preventDefault","value","currentTarget","elements","search","trim","movie","target","reset","type","name","autocomplete","autoFocus","placeholder","map","id","title","to","state","from"],"sourceRoot":""}